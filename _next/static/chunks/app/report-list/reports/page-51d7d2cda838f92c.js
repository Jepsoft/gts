(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{437:function(e,s,a){Promise.resolve().then(a.bind(a,6156))},6156:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var l=a(7437),t=a(2265),n=a(7501),i=a(1173),r=a.n(i),d=a(9419),c=a(7138),o=a(6648);a(4156);var x=a(7346),h=a(5211);function m(){let[e,s]=(0,t.useState)("Ready"),[a,i]=(0,t.useState)("Loading..."),[h,m]=(0,t.useState)("Loading..."),[j,p]=(0,t.useState)("Loading..."),[f,N]=(0,t.useState)("Loading..."),[b,u]=(0,t.useState)("loading..."),[g,v]=(0,t.useState)("Loading..."),[w,y]=(0,t.useState)("Loading..."),[S,_]=(0,t.useState)("Loading..."),[L,F]=(0,t.useState)("Loading..."),[k,I]=(0,t.useState)("Loading..."),[G,E]=(0,t.useState)("Loading..."),[P,T]=(0,t.useState)("bg-blue-700"),[C,D]=(0,t.useState)({labels:["Solution","Gap"],datasets:[{data:[100,0],backgroundColor:["#FFFF15","#FF1818"],borderWidth:1}]}),R={plugins:{legend:{labels:{color:"#000000"}}}};(0,t.useEffect)(()=>{z()},[]);let z=async()=>{try{let s=localStorage.getItem("report_id"),a=localStorage.getItem("gts_token"),l=await fetch("".concat("http://127.0.0.1:8000/api","/load_report"),{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({report_id:s})}),t=await l.json();function e(e){if(null==e)return"0";let s=parseFloat(e).toFixed(2),a=parseFloat(s);return a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e5?(a/1e3).toFixed(1)+"K":a>=1e3?(a/1e3).toFixed(1)+"K":a.toFixed(2)}console.log(t),_(e(t.report[0].occupation)),W(e(t.report[0].h_tn)),K(e(t.report[0].h_exs)),i(t.report[0].report_id),q(e(t.report[0].h_gap)),U(e(t.report[0].p_tn)),Q(e(t.report[0].p_exs)),X(e(t.report[0].p_gap)),es(e(t.report[0].e_tn)),el(e(t.report[0].e_exs)),en(e(t.report[0].e_gap)),er(e(t.report[0].r_tn)),ec(e(t.report[0].r_exs)),ex(e(t.report[0].r_gap)),em(e(t.report[0].s_tn)),ep(e(t.report[0].s_exs)),eN(e(t.report[0].s_gap)),m(t.result.First_Name),p(t.result.Last_Name),N(t.result.Phone),v(t.result.NIC),y(t.report[0].dob);let n=new Date(t.report[0].dob),r=new Date().getFullYear()-n.getFullYear();u(r),_(t.report[0].occupation),F(t.report[0].mon_income),I(t.report[0].mon_expenses),E(t.result.Gender),A("visible")}catch(e){A("hidden"),console.error("Error fetching data:",e)}},O=(0,t.useRef)(),[$,A]=(0,t.useState)("hidden"),M=async()=>{try{let e=O.current;if(!e){console.error("Content to save as PDF is missing.");return}let s=await r()(e,{scale:2,useCORS:!0}),a=s.toDataURL("image/png"),l=new n.ZP("p","mm","a4"),t=l.internal.pageSize.getWidth(),i=l.internal.pageSize.getHeight(),d=s.height*t/s.width,c=0;if(l.addImage(a,"PNG",0,c,t,d),d>i){let e=d-i;for(;e>0;)c-=i,l.addPage(),l.addImage(a,"PNG",0,c,t,d),e-=i}l.save("GTS_Report_For_Maneth_Dulwan.pdf")}catch(e){console.error("An error occurred while generating the PDF:",e)}},[H,W]=(0,t.useState)("Loading..."),[B,K]=(0,t.useState)("Loading..."),[Y,q]=(0,t.useState)("Loading..."),[J,U]=(0,t.useState)("Loading..."),[Z,Q]=(0,t.useState)("Loading..."),[V,X]=(0,t.useState)("Loading..."),[ee,es]=(0,t.useState)("Loading..."),[ea,el]=(0,t.useState)("Loading..."),[et,en]=(0,t.useState)("Loading..."),[ei,er]=(0,t.useState)("Loading..."),[ed,ec]=(0,t.useState)("Loading..."),[eo,ex]=(0,t.useState)("Loading..."),[eh,em]=(0,t.useState)("Loading..."),[ej,ep]=(0,t.useState)("Loading..."),[ef,eN]=(0,t.useState)("Loading...");return(0,l.jsxs)("div",{children:[(0,l.jsx)("nav",{className:"p-4 md:p-10 text-white",children:(0,l.jsxs)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto",children:[(0,l.jsx)(o.default,{src:d.default,alt:"GTS Logo",className:"absolute h-40 w-52 left-3 top-[-14px] sm:left-1"}),(0,l.jsx)("div",{className:"absolute left-0 right-0 top-6",children:(0,l.jsx)("h1",{className:"text-center text-[25px] hidden lg:block font-bold text-white",children:"G T S Reports"})}),(0,l.jsx)("span",{className:"bg-opacity-30 rounded-3xl pt-3 pb-3 absolute right-0 md:right-10 lg:right-10 top-8 sm:pt-2 sm:pb-2 sm:right-2 sm:top-9",children:(0,l.jsx)(c.default,{href:"/sign-in",children:(0,l.jsx)("span",{className:"p-3 rounded-3xl ml-1 mt-1 mb-1 mr-2 pr-5 sm:p-2 sm:pl-3 sm:mr-1 text-white",children:"Hi Admin"})})})]})}),(0,l.jsxs)("div",{className:" ".concat($," text-sm"),ref:O,style:{width:"210mm",zIndex:-1,height:"287mm",padding:"10mm",backgroundColor:"white",color:"black",boxSizing:"border-box"},children:[(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-left",children:["Report Id - ",a]})}),(0,l.jsx)("h1",{className:"text-center text-[25px] font-bold mb-6",children:"GTS Need Analyze Report"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Personal Information"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8 mt-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"First Name"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:h})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Mobile Number"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:f})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Date of Birth"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:w})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gender"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:G})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Monthly Income"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:L})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Last Name"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:j})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"NIC Number"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:g})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Age"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:b})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Occupation"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:S})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"font-bold",children:"Monthly Expenses"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:k})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Health"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:H})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:B})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:Y})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Protection"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:J})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:Z})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:V})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Education"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:ee})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:ea})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:et})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Retirement"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"12000"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"12000"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"3200"})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Savings"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:eh})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:ej})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:ef})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Protection"}),(0,l.jsx)("hr",{className:"flex-grow ml-4 border-t-2 border-black"})]}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-2 items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Total Need"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"12000"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Existing Solution"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"12000"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-bold",children:"Gap"}),(0,l.jsx)("span",{children:"-"}),(0,l.jsx)("span",{children:"3200"})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.$I,{data:C,options:R,className:"w-44 h-44"}),(0,l.jsx)("div",{className:"".concat(P," h-16 w-16 rounded-full absolute top-[65.5%] left-[50%] transform -translate-x-1/2 -translate-y-1/2"),children:(0,l.jsx)("h1",{className:"text-white text-center text-sm leading-none font-bold mt-[40%]",children:e})})]})]})]}),(0,l.jsx)("div",{})]})]}),(0,l.jsx)("button",{onClick:M,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download PDF"})]})}h.kL.register(h.qi,h.u,h.De)},9419:function(e,s,a){"use strict";a.r(s),s.default={src:"/_next/static/media/logo.659d43d1.svg",height:233,width:262,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[674,505,337,30,156,746,846,971,23,744],function(){return e(e.s=437)}),_N_E=e.O()}]);