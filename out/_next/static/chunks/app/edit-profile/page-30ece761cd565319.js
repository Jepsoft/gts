(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{2905:function(e,t,s){Promise.resolve().then(s.bind(s,8903))},8903:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),l=s(6648),i=s(9419),r=s(7138),c=s(5040),o=s(9428),n=s(2265),d=s(8472),u=s(3027),m=s(3561),h=s(4156);function x(){let e="https://backend.gtsglobaltalentsolutions.com/public/api",[t,s]=(0,n.useState)(),[x,f]=(0,n.useState)(null),[b,g]=(0,n.useState)("visible"),[p,v]=(0,n.useState)(m.Z),[w,j]=(0,n.useState)("blur"),[y,N]=(0,n.useState)(""),[S,_]=(0,n.useState)(""),[k,I]=(0,n.useState)(""),[C,Z]=(0,n.useState)(),[P,V]=(0,n.useState)(""),[E,U]=(0,n.useState)("hidden"),[z,A]=(0,n.useState)(""),[T,D]=(0,n.useState)(!1),G=async()=>{if(S==k){if(S.length<8)(0,h.yv)("Password must be at least 8 characters",{variant:"error"});else try{let t=localStorage.getItem("gts_token");(await d.Z.post("".concat(e,"/update_password"),{password:S},{headers:{Authorization:"Bearer ".concat(t)}})).data.result="success",(0,h.yv)("Password Update Successfully",{variant:"success"}),setTimeout(()=>{window.location.href="/profile"},2e3)}catch(e){(0,h.yv)("Password Update Failed",{variant:"error"})}}else(0,h.yv)("Password not matched",{variant:"error"})};(0,n.useEffect)(()=>{s(localStorage.getItem("gts_token")),g(t?"visible":"hidden"),j(t?"hidden":"visible")},[t]);let H=async()=>{if(y!=x&&/^[0-9]*0[0-9]*$/.test(y)&&10===y.length){let t=await d.Z.post("".concat(e,"/verify_phone"),{for:"send",phone:y});if(t.data.result){let e=t.data.result;localStorage.setItem("gtsvch",e)}W(),Z("disabled:cursor-not-allowed"),setTimeout(()=>{Z("")},6e4)}else(0,h.yv)("Same or Invalid Number",{variant:"info"})},W=()=>{U("visible"),"blur"==P?V(""):V("blur")};(0,n.useEffect)(()=>{if(localStorage.getItem("gts_token"))try{N(localStorage.getItem("phone")),f(localStorage.getItem("phone")),setNIC(localStorage.getItem("NIC")),setEmail(localStorage.getItem("Email")),setGender(localStorage.getItem("Gender")),g("visible"),j("hidden")}catch(e){}else(0,h.yv)("Please Login",{variant:"error"}),setTimeout(()=>{window.location.href="/sign-in"},2e3)},[t]);let F=async t=>{t.preventDefault();try{let t=localStorage.getItem("gtsvch"),s=await d.Z.post("".concat(e,"/verify"),{for:"check",code:z,gtscode:t});"Verified"==s.data.status?((0,h.yv)("Verification Success",{variant:"success"}),V(""),U("hidden"),D(!0),setVerify_update(m.Z),localStorage.removeItem("gtsvch")):(0,h.yv)("Verification Failed",{variant:"error"})}catch(e){console.error("Verification failed:",e)}},B=()=>{let t=localStorage.getItem("gts_token");console.log(x,y),!0==T||x==y?(async()=>{try{await d.Z.post("".concat(e,"/update_profile"),{Phone:y},{headers:{Authorization:"Bearer ".concat(t)}}),localStorage.setItem("phone",y),(0,h.yv)("Update Success",{variant:"success"}),setTimeout(()=>{window.location.href="./"},2e3)}catch(e){(0,h.yv)("phone Update Failed",{variant:"error"})}})():(0,h.yv)("Please Verify Your Phone",{variant:"error"})},O=async()=>{let t=localStorage.getItem("gts_token");try{(await d.Z.post("".concat(e,"/delete_account"),{},{headers:{Authorization:"Bearer ".concat(t)}})).data.result="success",setTimeout(()=>{(0,h.yv)("Account Deleting...",{variant:"success"}),localStorage.removeItem("gts_token"),localStorage.removeItem("phone"),localStorage.removeItem("firstName"),localStorage.removeItem("lastName"),localStorage.removeItem("NIC"),localStorage.removeItem("Email"),localStorage.removeItem("Gender")},2e3),(0,h.yv)("Account Deleted",{variant:"success"}),setTimeout(()=>{window.location.href="../"},2e3)}catch(e){(0,h.yv)("Account Delete Failed",{variant:"error"})}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"".concat(E," z-10 flex justify-center items-center absolute left-0 right-0 top-0 bottom-0 h-full mt-auto mb-auto"),children:(0,a.jsx)("div",{tabindex:"-1","aria-hidden":"true",className:" ",children:(0,a.jsx)("div",{class:"relative p-4 w-full max-w-md max-h-full",children:(0,a.jsxs)("div",{class:"relative bg-white bg-opacity-30 bg-blur rounded-lg shadow ",children:[(0,a.jsx)("h3",{class:"text-xl text-white dark:text-white text-center pt-5 ",children:"Verify Your Phone"}),(0,a.jsx)("div",{class:"p-4 md:p-5",children:(0,a.jsxs)("form",{class:"space-y-4",action:"#",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Verification Code"}),(0,a.jsx)("input",{type:"text",name:"code",id:"code",value:z,onChange:e=>A(e.target.value),className:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Verification Code",required:!0})]}),(0,a.jsx)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:F,children:"Verify"}),(0,a.jsxs)("div",{class:"text-sm font-medium text-white text-center",children:["Didn't Get Code? ",(0,a.jsx)("a",{href:"#",onClick:H,className:"".concat(Z," text-blue-700 hover:underline dark:text-blue-700"),children:"Resend"})]})]})})]})})})}),(0,a.jsxs)("div",{className:"".concat(P),children:[(0,a.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 -z-50 ",children:(0,a.jsx)(l.default,{src:o.Z,className:" object-cover w-full h-full opacity-15"})}),(0,a.jsxs)("div",{className:"min-h-[100vh] flex flex-col",children:[(0,a.jsx)("nav",{className:"p-4  md:p-10 text-white",children:(0,a.jsxs)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto h-full",children:[(0,a.jsx)("div",{}),(0,a.jsx)(l.default,{src:i.Z,alt:"gts logo",className:"special_logo absolute h-40 w-52 left-3 top-[-14px] sm:left-1"}),(0,a.jsx)("div",{className:"flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse",children:(0,a.jsx)("div",{className:"z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600",id:"user-dropdown"})}),(0,a.jsx)("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-user",children:(0,a.jsx)("ul",{className:"flex flex-col font-medium p-4 md:p-0 border rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 text-white",children:(0,a.jsxs)("h1",{className:"text-white text-center text-[20px] mt-5 mb-5 font-bold",children:[(0,a.jsx)("span",{className:"font-bold span_g",children:"G"})," ",(0,a.jsx)("span",{className:"font-bold span_t",children:"T"})," ",(0,a.jsx)("span",{className:"font-bold span_s",children:"S"})," User Profile"]})})}),(0,a.jsx)("div",{className:"absolute right-10 text-white top-8 text-center special-signup_in_button ".concat(w),children:(0,a.jsxs)("div",{className:" bg-white bg-opacity-30 flex justify-center  rounded-[20px]",children:[(0,a.jsx)(r.default,{href:"/sign-in",children:(0,a.jsx)("div",{className:"pr-2 pl-3 p-2 ",children:"Signin"})}),(0,a.jsx)(r.default,{href:"/sign-up",children:(0,a.jsx)("div",{className:"pl-3 pr-3 p-2 bg-blue-600 rounded-[20px] ",children:"Signup"})})]})}),(0,a.jsx)("div",{className:"absolute right-10 text-white top-8 text-center special-signup_in_button ".concat(b),children:(0,a.jsx)(r.default,{href:"/profile",children:(0,a.jsx)(l.default,{src:c.Z,className:" bg-white h-[40px] w-[40px] rounded-full p-1.5"})})})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center h-full p-4 md:p-0",children:(0,a.jsx)("div",{className:"text-black bg-white bg-opacity-30 min-w-[90%] md:min-w-[400px]  md:max-w-[600px] rounded-[35px] mx-auto specical_profile",children:(0,a.jsxs)("div",{className:"px-4 md:px-6 p-5",children:[(0,a.jsxs)("div",{className:" bg-black bg-opacity-30 p-4 rounded-3xl mb-5",children:[(0,a.jsx)("h2",{className:"text-white text-left w-full md:w-auto mb-2 md:mb-0",children:"Update Phone"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mt-3 mb-3",children:[(0,a.jsx)("h2",{className:"text-white text-left w-full md:w-auto mb-2 md:mb-0",children:"Mobile"}),(0,a.jsxs)("div",{className:"flex justify-end w-full",children:[(0,a.jsx)(l.default,{src:p,unoptimized:!0,width:50,height:50,className:"h-[55px] w-[50px] absolute -mt-[12px]",onClick:H}),(0,a.jsx)("input",{type:"tel",className:"bg-white bg-opacity-10 text-white ml-2 border-b border-gray-400 outline-none rounded-[20px] h-8 p-1 w-full md:w-10/12",onChange:e=>{let t=e.target.value;N(t),t!=x?v(u.Z):v(m.Z)},value:y})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-2 mb-2",onClick:()=>B(),children:(0,a.jsx)("h2",{className:"text-white w-full bg-blue-600 p-1.5 rounded-[15px] text-center",children:"Update Phone"})})]}),(0,a.jsxs)("div",{className:" bg-black bg-opacity-30 p-4 rounded-3xl",children:[(0,a.jsx)("h2",{className:"text-white text-left w-full md:w-auto mb-2 md:mb-0",children:"Change Password"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mt-3 mb-3",children:[(0,a.jsx)("h2",{className:"text-white w-full md:w-1/4 text-left mb-2 md:mb-0",children:"Password"}),(0,a.jsx)("input",{type:"password",className:"bg-white bg-opacity-10 text-white ml-2 border-b border-gray-400 outline-none rounded-[20px] p-1 w-full md:w-3/4",onChange:e=>_(e.target.value),value:S})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mt-3 mb-3",children:[(0,a.jsx)("h2",{className:"text-white w-full md:w-1/4 text-left mb-2 md:mb-0",children:"Confirm"}),(0,a.jsx)("input",{type:"password",className:"bg-white bg-opacity-10 text-white ml-2 border-b border-gray-400 outline-none rounded-[20px] p-1 w-full md:w-3/4",onChange:e=>I(e.target.value),value:k})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-2 mb-2",onClick:()=>G(),children:(0,a.jsx)("h2",{className:"text-white w-full bg-blue-600 p-1.5 rounded-[15px] text-center",children:"Update Password"})})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-2 mb-2",onClick:()=>O(),children:(0,a.jsx)("h2",{className:"text-white w-full bg-red-700 p-1.5 rounded-[15px] text-center",children:"Delete Account"})})]})})})]})]})]})}},9428:function(e,t){"use strict";t.Z={src:"/_next/static/media/background.895b43c3.svg",height:434,width:760,blurWidth:0,blurHeight:0}},3561:function(e,t){"use strict";t.Z={src:"/_next/static/media/green_verify.7c1dd5fe.svg",height:54,width:88,blurWidth:0,blurHeight:0}},9419:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.659d43d1.svg",height:233,width:262,blurWidth:0,blurHeight:0}},3027:function(e,t){"use strict";t.Z={src:"/_next/static/media/red_verify.1575b69f.svg",height:54,width:88,blurWidth:0,blurHeight:0}},5040:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.185ad265.svg",height:31,width:31,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[156,974,472,971,23,744],function(){return e(e.s=2905)}),_N_E=e.O()}]);